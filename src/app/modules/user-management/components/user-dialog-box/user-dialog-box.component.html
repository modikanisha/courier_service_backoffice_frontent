<div class="mat-typography">
  <div mat-dialog-title class="d-flex justify-content-between">
    <h2>
      <span *ngIf="!data.isUpdate">Create Request</span
      ><span *ngIf="data.isUpdate">Update Details</span>
    </h2>
    <span class="material-icons-sharp" mat-dialog-close> close </span>
  </div>
  <form class="" [formGroup]="userForm" (submit)="onUserSave()">
    <mat-dialog-content>
      <div class="row">
        <div class="col-4">
          <mat-form-field class="custom-form-field">
            <mat-label>Employee Id</mat-label>
            <input
              matInput
              formControlName="employeeId"
              autocomplete="off"
              required
            />
            <mat-error
              *ngIf="userForm.controls.employeeId.hasError('required')"
            >
              Enter employee id
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-4">
          <mat-form-field class="custom-form-field">
            <mat-label>Name</mat-label>
            <input
              matInput
              formControlName="name"
              autocomplete="off"
              required
            />
            <mat-error *ngIf="userForm.controls.name.hasError('required')">
              Enter client name
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-4">
          <mat-form-field class="custom-form-field">
            <mat-label>Role</mat-label>
            <mat-select formControlName="role" required>
              <mat-option value="g7c">g7c</mat-option>
              <mat-option value="yg9">yg9</mat-option>
              <mat-option value="yg9">yg9</mat-option>
            </mat-select>
            <mat-error *ngIf="userForm.controls.role.hasError('required')">
              Enter role
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <mat-form-field class="custom-form-field">
            <mat-label>Address</mat-label>
            <textarea
              matInput
              formControlName="address"
              autocomplete="off"
              required
            ></textarea>
            <mat-error *ngIf="userForm.controls.address.hasError('required')">
              Enter address
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-6">
          <mat-form-field class="custom-form-field">
            <mat-label>Contact Number</mat-label>
            <input
              matInput
              type="number"
              formControlName="contactNumber"
              autocomplete="off"
              required
            />
            <mat-error
              *ngIf="userForm.controls.contactNumber.hasError('required')"
            >
              Enter Contact Number
            </mat-error>
            <mat-error
              *ngIf="userForm.controls.contactNumber.hasError('pattern')"
            >
              Please, Enter 10 digit Mobile Number.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="custom-form-field">
            <mat-label>Email Id</mat-label>
            <input
              matInput
              formControlName="emailId"
              autocomplete="off"
              required
            />
            <mat-error *ngIf="userForm.controls.emailId.hasError('required')">
              Enter email id
            </mat-error>
            <mat-error *ngIf="userForm.controls.emailId.hasError('email')">
              Enter valid email id
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="custom-form-field">
            <mat-label>Start Date</mat-label>
            <input
              matInput
              [min]="minStartDate"
              autocomplete="off"
              formControlName="accessStartDate"
              [matDatepicker]="accessStartDate"
              required
              disabled
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="accessStartDate"
            ></mat-datepicker-toggle>
            <mat-datepicker #accessStartDate disabled="false"></mat-datepicker>
            <mat-error
              *ngIf="userForm.controls.accessStartDate.hasError('required')"
            >
              Enter start date
            </mat-error>
            <mat-error
              *ngIf="
                userForm.controls.accessStartDate.hasError('matDatepickerMin')
              "
            >
              Please select startdate as current or greater.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="custom-form-field">
            <mat-label>End Date</mat-label>
            <input
              matInput
              [min]="userForm.controls.accessStartDate.value || minStartDate"
              [matDatepicker]="accessEndDate"
              autocomplete="off"
              formControlName="accessEndDate"
              required
              disabled
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="accessEndDate"
            ></mat-datepicker-toggle>
            <mat-datepicker #accessEndDate disabled="false"></mat-datepicker>
            <mat-error
              *ngIf="userForm.controls.accessEndDate.hasError('required')"
            >
              Enter end date
            </mat-error>
            <mat-error
              *ngIf="
                userForm.controls.accessEndDate.hasError('matDatepickerMin')
              "
            >
              Please select end-date grater then start Date.
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <mat-form-field class="custom-form-field">
            <mat-label>Description</mat-label>
            <textarea
              matInput
              formControlName="description"
              required
            ></textarea>
            <mat-error
              *ngIf="userForm.controls.description.hasError('required')"
            >
              Enter description
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-12" *ngIf="data.isUpdate">
          <mat-slide-toggle formControlName="status"> Status </mat-slide-toggle>
        </div>
      </div>
    </mat-dialog-content>
    <mat-dialog-actions>
      <div class="col-12 text-center pt-4 m-0">
        <button class="btn" type="submit">
          <span *ngIf="!data.isUpdate">Generate Code</span
          ><span *ngIf="data.isUpdate">Update Details</span>
        </button>
      </div>
    </mat-dialog-actions>
  </form>
</div>
